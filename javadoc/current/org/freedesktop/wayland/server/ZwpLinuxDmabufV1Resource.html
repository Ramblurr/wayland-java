<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>ZwpLinuxDmabufV1Resource (docs API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.freedesktop.wayland.server, class: ZwpLinuxDmabufV1Resource">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.freedesktop.wayland.server</a></div>
<h1 title="Class ZwpLinuxDmabufV1Resource" class="title">Class ZwpLinuxDmabufV1Resource</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Resource.html" title="class in org.freedesktop.wayland.server">org.freedesktop.wayland.server.Resource</a>&lt;<a href="ZwpLinuxDmabufV1Requests.html" title="interface in org.freedesktop.wayland.server">ZwpLinuxDmabufV1Requests</a>&gt;
<div class="inheritance">org.freedesktop.wayland.server.ZwpLinuxDmabufV1Resource</div>
</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../util/WaylandObject.html" title="interface in org.freedesktop.wayland.util">WaylandObject</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ZwpLinuxDmabufV1Resource</span>
<span class="extends-implements">extends <a href="Resource.html" title="class in org.freedesktop.wayland.server">Resource</a>&lt;<a href="ZwpLinuxDmabufV1Requests.html" title="interface in org.freedesktop.wayland.server">ZwpLinuxDmabufV1Requests</a>&gt;</span></div>
<div class="block">factory for creating dmabuf-based wl_buffers
 <p>

       Following the interfaces from:
       https://www.khronos.org/registry/egl/extensions/EXT/EGL_EXT_image_dma_buf_import.txt
       https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt
       and the Linux DRM sub-system's AddFb2 ioctl.
 <p>
       This interface offers ways to create generic dmabuf-based wl_buffers.
 <p>
       Clients can use the get_surface_feedback request to get dmabuf feedback
       for a particular surface. If the client wants to retrieve feedback not
       tied to a surface, they can use the get_default_feedback request.
 <p>
       The following are required from clients:
 <p>
       - Clients must ensure that either all data in the dma-buf is
         coherent for all subsequent read access or that coherency is
         correctly handled by the underlying kernel-side dma-buf
         implementation.
 <p>
       - Don't make any more attachments after sending the buffer to the
         compositor. Making more attachments later increases the risk of
         the compositor not being able to use (re-import) an existing
         dmabuf-based wl_buffer.
 <p>
       The underlying graphics stack must ensure the following:
 <p>
       - The dmabuf file descriptors relayed to the server will stay valid
         for the whole lifetime of the wl_buffer. This means the server may
         at any time use those fds to import the dmabuf into any kernel
         sub-system that might accept it.
 <p>
       However, when the underlying graphics stack fails to deliver the
       promise, because of e.g. a device hot-unplug which raises internal
       errors, after the wl_buffer has been successfully created the
       compositor must not raise protocol errors to the client when dmabuf
       import later fails.
 <p>
       To create a wl_buffer from one or more dmabufs, a client creates a
       zwp_linux_dmabuf_params_v1 object with a zwp_linux_dmabuf_v1.create_params
       request. All planes required by the intended format are added with
       the 'add' request. Finally, a 'create' or 'create_immed' request is
       issued, which has the following outcome depending on the import success.
 <p>
       The 'create' request,
       - on success, triggers a 'created' event which provides the final
         wl_buffer to the client.
       - on failure, triggers a 'failed' event to convey that the server
         cannot use the dmabufs received from the client.
 <p>
       For the 'create_immed' request,
       - on success, the server immediately imports the added dmabufs to
         create a wl_buffer. No event is sent from the server in this case.
       - on failure, the server can choose to either:
         - terminate the client by raising a fatal error.
         - mark the wl_buffer as failed, and send a 'failed' event to the
           client. If the client uses a failed wl_buffer as an argument to any
           request, the behaviour is compositor implementation-defined.
 <p>
       For all DRM formats and unless specified in another protocol extension,
       pre-multiplied alpha is used for pixel values.
 <p>
       Unless specified otherwise in another protocol extension, implicit
       synchronization is used. In other words, compositors and clients must
       wait and signal fences implicitly passed via the DMA-BUF's reservation
       mechanism.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#INTERFACE_NAME" class="member-name-link">INTERFACE_NAME</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.freedesktop.wayland.server.Resource">Fields inherited from class&nbsp;org.freedesktop.wayland.server.<a href="Resource.html" title="class in org.freedesktop.wayland.server">Resource</a></h3>
<code><a href="Resource.html#wlResourcePtr">wlResourcePtr</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.foreign.MemorySegment)" class="member-name-link">ZwpLinuxDmabufV1Resource</a><wbr>(<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;pointer)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.freedesktop.wayland.server.Client,int,int,org.freedesktop.wayland.server.ZwpLinuxDmabufV1Requests)" class="member-name-link">ZwpLinuxDmabufV1Resource</a><wbr>(<a href="Client.html" title="class in org.freedesktop.wayland.server">Client</a>&nbsp;client,
 int&nbsp;version,
 int&nbsp;id,
 <a href="ZwpLinuxDmabufV1Requests.html" title="interface in org.freedesktop.wayland.server">ZwpLinuxDmabufV1Requests</a>&nbsp;implementation)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#format(int)" class="member-name-link">format</a><wbr>(int&nbsp;format)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">supported buffer format</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modifier(int,int,int)" class="member-name-link">modifier</a><wbr>(int&nbsp;format,
 int&nbsp;modifierHi,
 int&nbsp;modifierLo)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">supported buffer format modifier</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.freedesktop.wayland.server.Resource">Methods inherited from class&nbsp;org.freedesktop.wayland.server.<a href="Resource.html" title="class in org.freedesktop.wayland.server">Resource</a></h3>
<code><a href="Resource.html#addDestroyListener(org.freedesktop.wayland.server.Listener)">addDestroyListener</a>, <a href="Resource.html#destroy()">destroy</a>, <a href="Resource.html#equals(java.lang.Object)">equals</a>, <a href="Resource.html#getClient()">getClient</a>, <a href="Resource.html#getId()">getId</a>, <a href="Resource.html#getImplementation()">getImplementation</a>, <a href="Resource.html#getPointer()">getPointer</a>, <a href="Resource.html#getVersion()">getVersion</a>, <a href="Resource.html#hashCode()">hashCode</a>, <a href="Resource.html#postError(int,java.lang.String)">postError</a>, <a href="Resource.html#postEvent(int)">postEvent</a>, <a href="Resource.html#postEvent(int,org.freedesktop.wayland.util.Arguments)">postEvent</a>, <a href="Resource.html#register(org.freedesktop.wayland.server.DestroyListener)">register</a>, <a href="Resource.html#unregister(org.freedesktop.wayland.server.DestroyListener)">unregister</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="INTERFACE_NAME">
<h3>INTERFACE_NAME</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">INTERFACE_NAME</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.freedesktop.wayland.server.ZwpLinuxDmabufV1Resource.INTERFACE_NAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.freedesktop.wayland.server.Client,int,int,org.freedesktop.wayland.server.ZwpLinuxDmabufV1Requests)">
<h3>ZwpLinuxDmabufV1Resource</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ZwpLinuxDmabufV1Resource</span><wbr><span class="parameters">(<a href="Client.html" title="class in org.freedesktop.wayland.server">Client</a>&nbsp;client,
 int&nbsp;version,
 int&nbsp;id,
 <a href="ZwpLinuxDmabufV1Requests.html" title="interface in org.freedesktop.wayland.server">ZwpLinuxDmabufV1Requests</a>&nbsp;implementation)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.foreign.MemorySegment)">
<h3>ZwpLinuxDmabufV1Resource</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ZwpLinuxDmabufV1Resource</span><wbr><span class="parameters">(<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;pointer)</span></div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="format(int)">
<h3>format</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">format</span><wbr><span class="parameters">(int&nbsp;format)</span></div>
<div class="block">supported buffer format
 <p>

         This event advertises one buffer format that the server supports.
         All the supported formats are advertised once when the client
         binds to this interface. A roundtrip after binding guarantees
         that the client has received all supported formats.
 <p>
         For the definition of the format codes, see the
         zwp_linux_buffer_params_v1::create request.
 <p>
         Starting version 4, the format event is deprecated and must not be
         sent by compositors. Instead, use get_default_feedback or
         get_surface_feedback.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>format</code> - DRM_FORMAT code</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="modifier(int,int,int)">
<h3>modifier</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">modifier</span><wbr><span class="parameters">(int&nbsp;format,
 int&nbsp;modifierHi,
 int&nbsp;modifierLo)</span></div>
<div class="block">supported buffer format modifier
 <p>

         This event advertises the formats that the server supports, along with
         the modifiers supported for each format. All the supported modifiers
         for all the supported formats are advertised once when the client
         binds to this interface. A roundtrip after binding guarantees that
         the client has received all supported format-modifier pairs.
 <p>
         For legacy support, DRM_FORMAT_MOD_INVALID (that is, modifier_hi ==
         0x00ffffff and modifier_lo == 0xffffffff) is allowed in this event.
         It indicates that the server can support the format with an implicit
         modifier. When a plane has DRM_FORMAT_MOD_INVALID as its modifier, it
         is as if no explicit modifier is specified. The effective modifier
         will be derived from the dmabuf.
 <p>
         A compositor that sends valid modifiers and DRM_FORMAT_MOD_INVALID for
         a given format supports both explicit modifiers and implicit modifiers.
 <p>
         For the definition of the format and modifier codes, see the
         zwp_linux_buffer_params_v1::create and zwp_linux_buffer_params_v1::add
         requests.
 <p>
         Starting version 4, the modifier event is deprecated and must not be
         sent by compositors. Instead, use get_default_feedback or
         get_surface_feedback.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>format</code> - DRM_FORMAT code</dd>
<dd><code>modifierHi</code> - high 32 bits of layout modifier</dd>
<dd><code>modifierLo</code> - low 32 bits of layout modifier</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
