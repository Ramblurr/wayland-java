<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>Display (docs API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.freedesktop.wayland.client, class: Display">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.freedesktop.wayland.client</a></div>
<h1 title="Class Display" class="title">Class Display</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Proxy.html" title="class in org.freedesktop.wayland.client">org.freedesktop.wayland.client.Proxy</a>&lt;<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;
<div class="inheritance">org.freedesktop.wayland.client.Display</div>
</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../util/WaylandObject.html" title="interface in org.freedesktop.wayland.util">WaylandObject</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="WlDisplayProxy.html" title="class in org.freedesktop.wayland.client">WlDisplayProxy</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">Display</span>
<span class="extends-implements">extends <a href="Proxy.html" title="class in org.freedesktop.wayland.client">Proxy</a>&lt;<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span></div>
<div class="block">Represents a connection to the compositor and acts as a proxy to
 the <code>Display</code> singleton object.
 <p>
 A <code>Display</code> object represents a client connection to a Wayland
 compositor. It is created with either <code>WlDisplayProxy.connect()</code> or
 <code>WlDisplayProxy.connectToFd()</code>. A connection is terminated using
 <a href="#disconnect()"><code>disconnect()</code></a>.
 <p>
 A <code>Display</code> is also used as the <a href="Proxy.html" title="class in org.freedesktop.wayland.client"><code>Proxy</code></a> for the <code>Display</code>
 singleton object on the compositor side.
 <p>
 A <code>Display</code> object handles all the data sent from and to the
 compositor. When a <a href="Proxy.html" title="class in org.freedesktop.wayland.client"><code>Proxy</code></a> marshals a request, it will write its wire
 representation to the display's write buffer. The data is sent to the
 compositor when the client calls <a href="#flush()"><code>flush()</code></a>.
 <p>
 Incoming data is handled in two steps: queueing and dispatching. In the
 queue step, the data coming from the display fd is interpreted and
 added to a queue. On the dispatch step, the handler for the incoming
 event set by the client on the corresponding <a href="Proxy.html" title="class in org.freedesktop.wayland.client"><code>Proxy</code></a> is called.
 <p>
 A <code>Display</code> has at least one event queue, called the <em>main
 queue</em>. Clients can create additional event queues with \ref
 <a href="#createQueue()"><code>createQueue()</code></a> and assign <a href="Proxy.html" title="class in org.freedesktop.wayland.client"><code>Proxy</code></a>'s to it. Events
 occurring in a particular proxy are always queued in its assigned queue.
 A client can ensure that a certain assumption, such as holding a lock
 or running from a given thread, is true when a proxy event handler is
 called by assigning that proxy to an event queue and making sure that
 this queue is only dispatched when the assumption holds.
 <p>
 The main queue is dispatched by calling <a href="#dispatch()"><code>dispatch()</code></a>.
 This will dispatch any events queued on the main queue and attempt
 to read from the display fd if its empty. Events read are then queued
 on the appropriate queues according to the proxy assignment. Calling
 that function makes the calling thread the <em>main thread</em>.
 <p>
 A user created queue is dispatched with <a href="#dispatchQueue(org.freedesktop.wayland.client.EventQueue)"><code>dispatchQueue(EventQueue)</code></a>.
 If there are no events to dispatch this function will block. If this
 is called by the main thread, this will attempt to read data from the
 display fd and queue any events on the appropriate queues. If calling
 from any other thread, the function will block until the main thread
 queues an event on the queue being dispatched.
 <p>
 A real world example of event queue usage is Mesa's implementation of
 <code>eglSwapBuffers()</code> for the Wayland platform. This function might need
 to block until a frame callback is received, but dispatching the main
 queue could cause an event handler on the client to start drawing
 again. This problem is solved using another event queue, so that only
 the events handled by the EGL code are dispatched during the block.
 <p>
 This creates a problem where the main thread dispatches a non-main
 queue, reading all the data from the display fd. If the application
 would call <em> poll(2)</em> after that it would block, even though there
 might be events queued on the main queue. Those events should be
 dispatched with <a href="#dispatchPending()"><code>dispatchPending()</code></a> before
 flushing and blocking.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#OBJECT_ID" class="member-name-link">OBJECT_ID</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.freedesktop.wayland.client.Proxy">Fields inherited from class&nbsp;org.freedesktop.wayland.client.<a href="Proxy.html" title="class in org.freedesktop.wayland.client">Proxy</a></h3>
<code><a href="Proxy.html#pointer">pointer</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.foreign.MemorySegment)" class="member-name-link">Display</a><wbr>(<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;pointer)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_connect()" class="member-name-link">_connect</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_connect(int)" class="member-name-link">_connect</a><wbr>(int&nbsp;fd)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#_connect(java.lang.String)" class="member-name-link">_connect</a><wbr>(<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelRead()" class="member-name-link">cancelRead</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Release exclusive access to display file descriptor</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createQueue()" class="member-name-link">createQueue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new event queue for this display</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disconnect()" class="member-name-link">disconnect</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Close a connection to a Wayland display</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dispatch()" class="member-name-link">dispatch</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Process incoming events</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dispatchPending()" class="member-name-link">dispatchPending</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Dispatch main queue events without reading from the display fd</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dispatchQueue(org.freedesktop.wayland.client.EventQueue)" class="member-name-link">dispatchQueue</a><wbr>(<a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a>&nbsp;queue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Dispatch events in an event queue</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dispatchQueuePending(org.freedesktop.wayland.client.EventQueue)" class="member-name-link">dispatchQueuePending</a><wbr>(<a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a>&nbsp;queue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Dispatch pending events in an event queue</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#flush()" class="member-name-link">flush</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send all buffered requests on the display to the server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getError()" class="member-name-link">getError</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the last error that occurred on a display</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFD()" class="member-name-link">getFD</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a display context's file descriptor</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareRead()" class="member-name-link">prepareRead</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepare to read events after polling file descriptor</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareReadQueue(org.freedesktop.wayland.client.EventQueue)" class="member-name-link">prepareReadQueue</a><wbr>(<a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a>&nbsp;queue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readEvents()" class="member-name-link">readEvents</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read events from display file descriptor</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#roundtrip()" class="member-name-link">roundtrip</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Block until all pending request are processed by the server</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.freedesktop.wayland.client.Proxy">Methods inherited from class&nbsp;org.freedesktop.wayland.client.<a href="Proxy.html" title="class in org.freedesktop.wayland.client">Proxy</a></h3>
<code><a href="Proxy.html#destroy()">destroy</a>, <a href="Proxy.html#equals(java.lang.Object)">equals</a>, <a href="Proxy.html#getId()">getId</a>, <a href="Proxy.html#getImplementation()">getImplementation</a>, <a href="Proxy.html#getPointer()">getPointer</a>, <a href="Proxy.html#getVersion()">getVersion</a>, <a href="Proxy.html#hashCode()">hashCode</a>, <a href="Proxy.html#marshal(int)">marshal</a>, <a href="Proxy.html#marshal(int,org.freedesktop.wayland.util.Arguments)">marshal</a>, <a href="Proxy.html#marshalConstructor(int,J,int,java.lang.Class,org.freedesktop.wayland.util.Arguments)">marshalConstructor</a>, <a href="Proxy.html#setQueue(org.freedesktop.wayland.client.EventQueue)">setQueue</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="OBJECT_ID">
<h3>OBJECT_ID</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">OBJECT_ID</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.freedesktop.wayland.client.Display.OBJECT_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.foreign.MemorySegment)">
<h3>Display</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">Display</span><wbr><span class="parameters">(<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;pointer)</span></div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_connect(java.lang.String)">
<h3>_connect</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a></span>&nbsp;<span class="element-name">_connect</span><wbr><span class="parameters">(<a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="_connect(int)">
<h3>_connect</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a></span>&nbsp;<span class="element-name">_connect</span><wbr><span class="parameters">(int&nbsp;fd)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="_connect()">
<h3>_connect</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a></span>&nbsp;<span class="element-name">_connect</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="disconnect()">
<h3>disconnect</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disconnect</span>()</div>
<div class="block">Close a connection to a Wayland display
 <p>
 Close the connection to the display and free all resources associated
 with it.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="getFD()">
<h3>getFD</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getFD</span>()</div>
<div class="block">Get a display context's file descriptor
 <p>
 Return the file descriptor associated with a display so it can be
 integrated into the client's main loop.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Display object file descriptor</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="dispatch()">
<h3>dispatch</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">dispatch</span>()</div>
<div class="block">Process incoming events
 <p>
 Dispatch the display's main event queue.
 <p>
 If the main event queue is empty, this function blocks until there are
 events to be read from the display fd. Events are read and queued on
 the appropriate event queues. Finally, events on the main event queue
 are dispatched.
 <p>
 It is not possible to check if there are events on the main queue
 or not. For dispatching main queue events without blocking, see <a href="#dispatchPending()"><code>dispatchPending()</code></a>.
 <p>
 Calling this will release the display file descriptor if this
 thread acquired it using wl_display_acquire_fd().</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of dispatched events on success or -1 on failure</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#dispatchPending()"><code>dispatchPending()</code></a></li>
<li><a href="#dispatchQueue(org.freedesktop.wayland.client.EventQueue)"><code>dispatchQueue(EventQueue)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="dispatchPending()">
<h3>dispatchPending</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">dispatchPending</span>()</div>
<div class="block">Dispatch main queue events without reading from the display fd
 <p>
 This function dispatches events on the main event queue. It does not
 attempt to read the display fd and simply returns zero if the main
 queue is empty, i.e., it doesn't block.
 <p>
 This is necessary when a client's main loop wakes up on some fd other
 than the display fd (network socket, timer fd, etc) and calls
 <a href="#dispatchQueue(org.freedesktop.wayland.client.EventQueue)"><code>dispatchQueue(EventQueue)</code></a> from that callback. This may queue up
 events in the main queue while reading all data from the display fd.
 When the main thread returns to the main loop to block, the display fd
 no longer has data, causing a call to <code>poll(2)</code> (or similar
 functions) to block indefinitely, even though there are events ready
 to dispatch.
 <p>
 To proper integrate the wayland display fd into a main loop, the
 client should always call <code>dispatchPending()</code> and then
 <a href="#flush()"><code>flush()</code></a> prior to going back to sleep. At that point,
 the fd typically doesn't have data so attempting I/O could block, but
 events queued up on the main queue should be dispatched.
 <p>
 A real-world example is a main loop that wakes up on a timerfd (or a
 sound card fd becoming writable, for example in a video player), which
 then triggers GL rendering and eventually eglSwapBuffers().
 eglSwapBuffers() may call <a href="#dispatchQueue(org.freedesktop.wayland.client.EventQueue)"><code>dispatchQueue(EventQueue)</code></a> if it didn't
 receive the frame event for the previous frame, and as such queue
 events in the main queue.
 <p>
 Calling this makes the current thread the main one.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of dispatched events or -1 on failure</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#dispatch()"><code>dispatch()</code></a></li>
<li><a href="#dispatchQueue(org.freedesktop.wayland.client.EventQueue)"><code>dispatchQueue(EventQueue)</code></a></li>
<li><a href="#flush()"><code>flush()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="dispatchQueue(org.freedesktop.wayland.client.EventQueue)">
<h3>dispatchQueue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">dispatchQueue</span><wbr><span class="parameters">(<a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a>&nbsp;queue)</span></div>
<div class="block">Dispatch events in an event queue
 <p>
 Dispatch all incoming events for objects assigned to the given
 event queue. On failure -1 is returned and errno set appropriately.
 <p>
 This function blocks if there are no events to dispatch. If calling from
 the main thread, it will block reading data from the display fd. For other
 threads this will block until the main thread queues events on the queue
 passed as argument.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>queue</code> - The event queue to dispatch</dd>
<dt>Returns:</dt>
<dd>The number of dispatched events on success or -1 on failure</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="dispatchQueuePending(org.freedesktop.wayland.client.EventQueue)">
<h3>dispatchQueuePending</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">dispatchQueuePending</span><wbr><span class="parameters">(<a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a>&nbsp;queue)</span></div>
<div class="block">Dispatch pending events in an event queue
 <p>
 Dispatch all incoming events for objects assigned to the given
 event queue. On failure -1 is returned and errno set appropriately.
 If there are no events queued, this function returns immediately.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>queue</code> - The event queue to dispatch</dd>
<dt>Returns:</dt>
<dd>The number of dispatched events on success or -1 on failure</dd>
<dt>Since:</dt>
<dd>1.0.2</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="flush()">
<h3>flush</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">flush</span>()</div>
<div class="block">Send all buffered requests on the display to the server
 <p>
 Send all buffered data on the client side to the server. Clients
 should call this function before blocking. On success, the number
 of bytes sent to the server is returned. On failure, this
 function returns -1 and errno is set appropriately.
 <p>
 flush() never blocks.  It will write as much data as
 possible, but if all data could not be written, errno will be set
 to EAGAIN and -1 returned.  In that case, use poll on the display
 file descriptor to wait for it to become writable again.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of bytes sent on success or -1 on failure</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="roundtrip()">
<h3>roundtrip</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">roundtrip</span>()</div>
<div class="block">Block until all pending request are processed by the server
 <p>
 Blocks until the server process all currently issued requests and
 sends out pending events on all event queues.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of dispatched events on success or -1 on failure</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="createQueue()">
<h3>createQueue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a></span>&nbsp;<span class="element-name">createQueue</span>()</div>
<div class="block">Create a new event queue for this display
 <p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A new event queue associated with this display or NULL on
 failure.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getError()">
<h3>getError</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getError</span>()</div>
<div class="block">Retrieve the last error that occurred on a display
 <p>
 Return the last error that occurred on the display. This may be an error sent
 by the server or caused by the local client.
 <p>
 Errors are <b>fatal</b>. If this function returns non-zero the display
 can no longer be used.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The last error that occurred on display or 0 if no error occurred</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareReadQueue(org.freedesktop.wayland.client.EventQueue)">
<h3>prepareReadQueue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">prepareReadQueue</span><wbr><span class="parameters">(<a href="EventQueue.html" title="class in org.freedesktop.wayland.client">EventQueue</a>&nbsp;queue)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareRead()">
<h3>prepareRead</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">prepareRead</span>()</div>
<div class="block">Prepare to read events after polling file descriptor
 <p>
 This function must be called before reading from the file
 descriptor using <a href="#readEvents()"><code>readEvents()</code></a>.  Calling
 <code>prepareRead()</code> announces the calling threads intention
 to read and ensures that until the thread is ready to read and
 calls <a href="#readEvents()"><code>readEvents()</code></a>, no other thread will read from the
 file descriptor.  This only succeeds if the event queue is empty
 though, and if there are undispatched events in the queue, -1 is
 returned and errno set to EAGAIN.
 <p>
 If a thread successfully calls <code>prepareRead()</code>, it must
 either call <a href="#readEvents()"><code>readEvents()</code></a> when it's ready or cancel the
 read intention by calling <a href="#cancelRead()"><code>cancelRead()</code></a>.
 <p>
 Use this function before polling on the display fd or to integrate
 the fd into a toolkit event loop in a race-free way.  Typically, a
 toolkit will call <a href="#dispatchPending()"><code>dispatchPending()</code></a> before sleeping, to
 make sure it doesn't block with unhandled events.  Upon waking up,
 it will assume the file descriptor is readable and read events from
 the fd by calling <a href="#dispatch()"><code>dispatch()</code></a>.  Simplified, we have:
 <p>
 <pre>
   <code>

   display.dispatchPending();
   display.flush();
   poll(fds, nfds, -1);
   display.dispatch();
   </code>
 </pre>
 <p>
 There are two races here: first, before blocking in poll(), the fd
 could become readable and another thread reads the events.  Some of
 these events may be for the main queue and the other thread will
 queue them there and then the main thread will go to sleep in
 poll().  This will stall the application, which could be waiting
 for a event to kick of the next animation frame, for example.
 <p>
 The other race is immediately after poll(), where another thread
 could preempt and read events before the main thread calls
 <a href="#dispatch()"><code>dispatch()</code></a>.  This call now blocks and starves the other
 fds in the event loop.
 <p>
 A correct sequence would be:
 <p>
 <pre>
   <code>
   while (display.prepareRead() != 0)
           display.dispatch_Pending();
   display.flush();
   poll(fds, nfds, -1);
   display.readEvents();
   display.dispatchPending();
   </code>
 </pre>
 <p>
 Here we call <code>prepareRead()</code>, which ensures that between
 returning from that call and eventually calling
 <a href="#readEvents()"><code>readEvents()</code></a>, no other thread will read from the fd and
 queue events in our queue.  If the call to
 <code>prepareRead()</code> fails, we dispatch the pending events and
 try again until we're successful.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>0 on success or -1 if event queue was not empty</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="cancelRead()">
<h3>cancelRead</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cancelRead</span>()</div>
<div class="block">Release exclusive access to display file descriptor
 <p>
 This releases the exclusive access.  Useful for canceling the lock
 when a timed out poll returns fd not readable and we're not going
 to read from the fd anytime soon.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="readEvents()">
<h3>readEvents</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readEvents</span>()</div>
<div class="block">Read events from display file descriptor
 <p>
 This will read events from the file descriptor for the display.
 This function does not dispatch events, it only reads and queues
 events into their corresponding event queues.  If no data is
 avilable on the file descriptor, <code>readEvents()</code> returns
 immediately.  To dispatch events that may have been queued, call
 <a href="#dispatchPending()"><code>dispatchPending()</code></a> or
 <a href="#dispatchQueuePending(org.freedesktop.wayland.client.EventQueue)"><code>dispatchQueuePending(EventQueue)</code></a>.
 <p>
 Before calling this function, <a href="#prepareRead()"><code>prepareRead()</code></a> must be
 called first.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>0 on success or -1 on error.  In case of error errno will
 be set accordingly</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
